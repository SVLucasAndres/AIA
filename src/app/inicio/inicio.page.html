<ion-header class="ion-no-border" [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-toggle>
        <ion-button (click)="abrirMenu()"><ion-icon name="menu"></ion-icon></ion-button>
      </ion-menu-toggle>
    </ion-buttons>
    <ion-title>Inicio</ion-title>
    <ion-buttons slot="end" color="tertiary">
      <ion-button [routerLink]="['/cuenta']">
        <ion-icon slot="icon-only" ios="id-card-outline" md="person-circle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    
  </ion-toolbar>
  <ion-progress-bar type="indeterminate" color="primary" *ngIf="carga"></ion-progress-bar>
</ion-header>
<ion-content [fullscreen]="true" id="main-content">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">¡Hola, {{datos[0]}}!</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content color="secondary" style="height: 334px;">
    <swiper-container class="container" pagination="true" pagination-clickable="true" autoplay-delay="5000" autoplay-disable-on-interaction="true">
      <swiper-slide *ngFor="let anuncio of anuncios" style="display: flex; justify-content: center; height: 334px;">
        <ion-card style="height:300px;" >
          <div class="image-container">
            <img alt="Cannot load image. Please connect to internet, or contact developers" [src]="anuncio.image" />
          </div>          
          <ion-card-header>
            <ion-card-subtitle>{{anuncio.subtitle}}</ion-card-subtitle>
            <ion-card-title>{{anuncio.title}}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            {{anuncio.desc}}
          </ion-card-content>
        </ion-card>
      </swiper-slide>
    </swiper-container>
  </ion-content>
  <ion-list inset="true" lines="inset" color="success">
    <ion-list-header color="primary">
      <ion-label><ion-icon slot="start" name="checkmark-outline"></ion-icon> Pedidos Listos</ion-label>
      <ion-button id="popover-button" color="dark">¿Retirar productos?</ion-button>
      <ion-popover trigger="popover-button" [dismissOnSelect]="true">
        <ng-template>
          <ion-content>
            <ion-label>Anuncia que estás en camino al taller para retirar el producto y evita contratiempos</ion-label>
            <ion-list>
              <ion-item [button]="true" [detail]="false" (click)="manual()"><ion-icon aria-hidden="true" name="logo-whatsapp" slot="start"></ion-icon>Enviar mensaje</ion-item>
            </ion-list>
          </ion-content>
        </ng-template>
      </ion-popover>
    </ion-list-header>
    <ion-item *ngFor="let pedido of pedidos">
      <ion-label>
        <h1>{{pedido.prod}}</h1>
        <p>$ {{pedido.price}} - Fecha</p>
      </ion-label>
      <ion-button [id]="pedido.qr">
        <ion-icon slot="icon-only" name="qr-code-outline"></ion-icon>
      </ion-button>
      <ion-popover [trigger]="pedido.qr">
        <ng-template>
          <ion-content class="ion-padding">
            <qrcode [qrdata]="pedido.qr"></qrcode>
          </ion-content>
        </ng-template>
      </ion-popover>
    </ion-item>
  </ion-list>
  <hr>
  <ion-list inset="true" lines="inset" >
    <ion-list-header color="warning">
      <ion-label><ion-icon slot="start" name="flame" ></ion-icon> Tendencia</ion-label>
      <ion-button (click)="toGo('tienda')" color="dark">Ver la tienda</ion-button>
    </ion-list-header>
    <ion-item>
      Aqúi va el slider
    </ion-item>
  </ion-list>
  <ion-list inset="true" lines="inset" >
    <ion-list-header color="danger">
      <ion-label><ion-icon name="warning"></ion-icon> A agotarse</ion-label>
    </ion-list-header>
    <ion-item *ngIf="productos.length == 0">
      <p >No hay nada a agotarse. Estas a tiempo de comprar algunos productos</p>
    </ion-item> 
    <ion-item *ngFor="let pedido of productos">
      <ion-label>
        <h1>{{pedido.product}}</h1>
        <p>Precio: $ {{pedido.precio}}</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
<ion-menu contentId="main-content">
  
  <ion-content class="ion-padding">
      <ion-list>
        <ion-item (click)="toGo('inicio')">
          <ion-icon aria-hidden="true" name="home" slot="start"></ion-icon>
          <ion-label>Inicio</ion-label>
        </ion-item>
        <ion-item (click)="toGo('tienda')">
          <ion-icon aria-hidden="true" name="pricetags" slot="start"></ion-icon>
          <ion-label>Tienda</ion-label>
        </ion-item>
        <ion-item (click)="toGo('carrito')">
          <ion-icon aria-hidden="true" name="cart" slot="start"></ion-icon>
          <ion-label>Carrito</ion-label>
          <ion-badge slot="end" color="primary">{{carritoNumber}}</ion-badge>
        </ion-item>
        <ion-item (click)="toGo('guardados')">
          <ion-icon aria-hidden="true" name="receipt" slot="start"></ion-icon>
          <ion-label>Mis pedidos</ion-label>
        </ion-item>
      </ion-list>
  </ion-content>
</ion-menu>
